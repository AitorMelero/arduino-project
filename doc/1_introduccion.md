# Introducción a Arduino
## Resumen
En esta sección se pretende realizar una primera aproximación de la plataforma Arduino. De esta manera, se introduce al lector sobre qué es y qué posibilidades ofrece, además de realizar una breve descripción de los proyectos que se van a tratar. Utilizando estas nociones, el lector tendrá los conceptos básicos y se familiarizará con la plataforma para poder comenzar a trabajar en el primer proyecto práctico de Arduino.

## Índice
1. [¿Qué es Arduino?](#¿Qué-es-Arduino?)
2. [Arduino UNO R3 y ATMega16U2](#Arduino-UNO-R3-y-ATMega16U2)

## ¿Qué es Arduino?
[Arduino](https://docs.arduino.cc/learn/starting-guide/whats-arduino) es tanto una plataforma *Software* como *Hardware* (*Open Source*) que permite al usuario implementar funcionalidades muy diversas para llevar a cabo numerosas tareas tales como sensado y actuación para interactuar con el mundo físico, ejecución de un servidor y comunicación con otros dispositivos, videojuegos con pantalla LCD...

<img src="../../public/articles/arduinoUNOplacaimagen.png" alt="Arduino UNO R3" width="500" height="600"></img>

- En su vertiente *Hardware*, se entiende Arduino como un [circuito impreso](https://resources.altium.com/p/what-is-a-pcb) (PCB, *Printed Circuit Board*) que posee principalmente un [microcontrolador](https://itp.nyu.edu/physcomp/lessons/microcontrollers-the-basics/) (esto es, un computador integrado en un chip) y diferentes periféricos (también denominados dispositivos de Entrada/Salida, E/S). Por su parte, el microcontrolador cuenta con la capacidad de ejecutar instrucciones programadas (se puede interpretar como el cerebro de Arduino), mientras que los periféricos dotan a Arduino de la capacidad de integrar funcionalidades como conectividad por Ethernet, USB, conversores Analógico-Digital, LEDs, sensores... Se distingue entre **microcontrolador** y **placa**: mientras que el microcontrolador es la pastilla o chip que contiene la lógica (es una computadora en un chip, con memoria RAM, Flash, ROM, procesador...), la placa es el circuito impreso en el que está soldado el microcontrolador, que posee dispositivos de utilidad como LEDs, entradas analógicas, salidas PWM y otros.
- En su vertiente *Software*, Arduino es una plataforma que ofrece un IDE (*Integrated Development Environment*) que permite desarrollar el programa que será cargado en el microcontrolador utilizando un lenguaje de alto nivel propio de Arduino.

En la práctica, no existe un único modelo de Arduino, sino que se pone a disposición del cliente diferentes [modelos de placas y microcontroladores](https://www.arduino.cc/en/hardware), cada uno con un conjunto de periféricos diferentes, así como compatibilidades y funcionalidades distintas. De esta manera, en los sucesivos proyectos que se presentan en esta guía se utilizará la placa Arduino UNO R3 con el microcontrolador ATMega16U2. Asimismo, se utilizará un [simulador web](https://wokwi.com/projects/new/arduino-uno) para dicho modelo donde se realizarán los proyectos de forma alternativa a realizarlos físicamente.

## Arduino UNO R3 y ATMega16U2
De entre los modelos de Arduino, en esta guía se utilizará el modelo Arduino UNO R3. Para los proyectos que se irán desarrollando, será de gran utilidad la [documentación oficial sobre la placa](https://docs.arduino.cc/resources/datasheets/A000066-datasheet.pdf). De acuerdo con la documentación, el modelo del microcontrolador para la placa Arduino UNO R3 es el ATMega16U2, [cuya documentación](https://ww1.microchip.com/downloads/en/DeviceDoc/doc7799.pdf) también será de utilidad. Como primera aproximación y de forma resumida, los periféricos con los que cuenta esta placa son los siguientes:

- TIMER: este recurso permite implementar funcionalidades que dependan del tiempo; desde una luz LED que parpadea con cierta frecuencia hasta un sistema de muestreo de señales analógicas (como un sensor de temperatura, sonido o cualquier otro) que requiera cada cierto tiempo tomar una muestra.
- [USART](https://polaridad.es/que-es-usart-y-como-funciona-en-la-comunicacion-de-datos/) (*Universal Synchronous/Asynchronous Receiver/Transmitter*): cuando se quiere conectar a Arduino ciertos dispositivos como módems, [módulos GSM](https://en.wikipedia.org/wiki/GSM_modem) (para aplicaciones que requieran comunicación con dispositivos móviles como envío y recepción de mensajes SMS) o incluso algunos sensores, estos a menudo funcionan utilizando USART (que se trata de una interfaz de comunicación con un protocolo de transmisión de datos específico).
- [SPI](https://en.wikipedia.org/wiki/Serial_Peripheral_Interface) (*Serial Peripherial Interface*): se trata de un estándar de comunicación que permite la conectividad con ciertos dispositivos externos (como tarjetas RFID o SD), de forma similar a USART. La diferencia es que su protocolo de envío de datos es distinto (funciona bajo una arquitectura *Master/Slave*).
- [I2C](https://en.wikipedia.org/wiki/I%C2%B2C) (*Inter-Integrated Circuit*): de nuevo, es otra interfaz de comunicación para ciertos dispositivos que se pueden conectar con Arduino.
- ADC (*Analog to Digital Converter*): consiste en un módulo de entrada analógica que dota a Arduino de la capacidad de recibir señales continuas de tensión para posteriormente muestrearlas y tratarlas a nivel de *Software*.
- PWM (*Pulse Width Modulation*): este periférico de E/S permite a Arduino enviar señales moduladas por ancho de pulso a una carga externa (como puede ser un motor). Por ejemplo, este periférico permitiría controlar el tiempo durante el que se mantiene activo un motor externo.

Típicamente, trabajar con un microcontrolador implica tratar el dispositivo a nivel de registro y con operaciones binarias. Concretamente, existen los pines del microcontrolador (**pin configuration** en la documentación del microcontrolador) y los pines de la placa (**pin out** en la documentación de la placa). Cada pin del microcontrolador tiene asociados unos **símbolos**, que se refieren en realidad a las funciones que ese pin puede desempeñar (por ejemplo, puede ser un pin de tipo analógico para muestrear señales, o bien un pin de tipo transmisión, I2C...). El microcontrolador, por estar conectado a una placa, tendrá una correspondencia entre sus pines y los de la placa, generalmente dado por el [esquemático de la placa](https://www.arduino.cc/en/uploads/Main/Arduino_Uno_Rev3-schematic.pdf). Cada pin del microcontrolador suele tener reservado un espacio de memoria en el denominado *mapa de memoria* (documentación del microcontrolador) y se debe acceder a la posición exacta de dicho mapa e insertar los bits correspondientes en ese registro para configurar el pin o pines del microcontrolador correctamente. Una vez configurado, dada la correspondencia entre pines de microcontrolador y placa, las actuaciones sobre ese pin del microcontrolador se aplicarán a los pines de la placa y se podrán visualizar los resultados en los dispositivos que haya conectados a Arduino.

<img src="../../public/articles/arduinoUNOplaca.png" alt="Arduino UNO R3 Pin out diagram" width="500" height="600"></img>

En esta guía, principalmente se trabajará a nivel de placa (no a nivel de registro), pues Arduino facilita al usuario la tarea de acceder a los diferentes periféricos para cumplir con la funcionalidad deseada.